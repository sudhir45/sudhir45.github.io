---
import Section from './Section.astro';
import Card from './Card.astro';
import type { SitePost } from '@/utils/posts';

interface Props {
	posts: SitePost[];
}

const { posts } = Astro.props;
---

<Section>
	<div class="animate-fade-up stagger-4 mb-6 mt-6 flex items-center justify-between border-t border-zinc-200/80 pt-6 dark:border-zinc-800/80">
		<h2 class="text-2xl font-semibold tracking-tight text-zinc-900 dark:text-zinc-100">Latest Posts</h2>
		<a href="/posts" class="group flex items-center gap-1 text-sm font-medium text-zinc-600 transition-colors hover:text-blue-600 dark:text-zinc-400 dark:hover:text-blue-400">
			<span class="link-underline">All posts</span>
			<svg class="h-4 w-4 transition-transform group-hover:translate-x-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
			</svg>
		</a>
	</div>
	<div class="grid grid-cols-1 gap-6 md:grid-cols-3">
		{
			posts.map((post: any, index: number) => (
				<div class={`animate-fade-up stagger-${index + 4}`}>
					<Card post={post} />
				</div>
			))
		}
	</div>
</Section>
