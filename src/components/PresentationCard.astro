---
interface Props {
	slug: string;
	title: string;
	description: string;
	thumbnail: string;
	slideCount: number;
	category: string;
}

const { slug, title, description, thumbnail, slideCount, category } = Astro.props;
---

<a
	href={`/presentations/${slug}`}
	class="presentation-card group"
	aria-label={`View presentation: ${title}`}
>
	<div class="card-inner">
		<div class="card-thumbnail">
			<img src={thumbnail} alt={`Thumbnail for ${title}`} loading="lazy" />
			<div class="thumbnail-overlay"></div>
			<div class="slide-badge">
				<svg class="h-3.5 w-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
				</svg>
				<span>{slideCount} slides</span>
			</div>
		</div>

		<div class="card-content">
			<span class="category-badge">{category}</span>
			<h3 class="card-title">{title}</h3>
			<p class="card-description">{description}</p>
			<div class="card-cta">
				<span>View presentation</span>
				<svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
				</svg>
			</div>
		</div>
	</div>
</a>

<style>
	.presentation-card {
		display: block;
		height: 100%;
		text-decoration: none;
		outline: none;
	}

	.presentation-card:focus-visible {
		outline: 2px solid rgb(37, 99, 235);
		outline-offset: 2px;
		border-radius: 1rem;
	}

	.card-inner {
		display: flex;
		height: 100%;
		flex-direction: column;
		overflow: hidden;
		border-radius: 1rem;
		border: 1px solid rgba(228, 228, 231, 0.95);
		background: rgba(255, 255, 255, 0.95);
		box-shadow: 0 1px 3px rgba(24, 24, 27, 0.06);
		transition: transform 250ms ease, border-color 250ms ease, box-shadow 250ms ease;
	}

	.presentation-card:hover .card-inner {
		transform: translateY(-2px);
		border-color: rgba(212, 212, 216, 1);
		box-shadow: 0 20px 24px -20px rgba(24, 24, 27, 0.28);
	}

	.card-thumbnail {
		position: relative;
		aspect-ratio: 16 / 9;
		overflow: hidden;
		background: #18181b;
	}

	.card-thumbnail img {
		height: 100%;
		width: 100%;
		object-fit: cover;
		transition: transform 350ms ease;
	}

	.presentation-card:hover .card-thumbnail img {
		transform: scale(1.03);
	}

	.thumbnail-overlay {
		position: absolute;
		inset: 0;
		background: linear-gradient(180deg, transparent 40%, rgba(0, 0, 0, 0.55) 100%);
	}

	.slide-badge {
		position: absolute;
		bottom: 0.75rem;
		right: 0.75rem;
		display: inline-flex;
		align-items: center;
		gap: 0.375rem;
		padding: 0.3125rem 0.625rem;
		border-radius: 9999px;
		background: rgba(9, 9, 11, 0.72);
		font-size: 0.75rem;
		font-weight: 500;
		color: #fafaf9;
		backdrop-filter: blur(6px);
		-webkit-backdrop-filter: blur(6px);
	}

	.card-content {
		display: flex;
		flex: 1;
		flex-direction: column;
		padding: 1.125rem 1.125rem 1.25rem;
	}

	.category-badge {
		display: inline-flex;
		align-self: flex-start;
		margin-bottom: 0.75rem;
		border-radius: 9999px;
		border: 1px solid rgba(212, 212, 216, 0.85);
		background: rgba(250, 250, 250, 0.9);
		padding: 0.2rem 0.55rem;
		font-size: 0.6875rem;
		font-weight: 600;
		letter-spacing: 0.05em;
		text-transform: uppercase;
		color: #52525b;
	}

	.card-title {
		margin: 0 0 0.45rem;
		color: #18181b;
		font-size: 1.1rem;
		font-weight: 600;
		line-height: 1.35;
		transition: color 200ms ease;
	}

	.presentation-card:hover .card-title {
		color: #3f3f46;
	}

	.card-description {
		margin: 0 0 1rem;
		flex: 1;
		color: #71717a;
		font-size: 0.9rem;
		line-height: 1.55;
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	.card-cta {
		display: inline-flex;
		align-items: center;
		gap: 0.35rem;
		margin-top: auto;
		color: #3f3f46;
		font-size: 0.875rem;
		font-weight: 500;
		transition: gap 200ms ease;
	}

	.presentation-card:hover .card-cta {
		gap: 0.55rem;
	}

	/* Dark mode */
	:global(.dark) .card-inner {
		border-color: rgba(63, 63, 70, 0.88);
		background: rgba(24, 24, 27, 0.95);
		box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
	}

	:global(.dark) .presentation-card:hover .card-inner {
		border-color: rgba(82, 82, 91, 0.95);
		box-shadow: 0 20px 24px -20px rgba(0, 0, 0, 0.75);
	}

	:global(.dark) .category-badge {
		border-color: rgba(82, 82, 91, 0.92);
		background: rgba(39, 39, 42, 0.85);
		color: #d4d4d8;
	}

	:global(.dark) .card-title {
		color: #fafafa;
	}

	:global(.dark) .presentation-card:hover .card-title {
		color: #e4e4e7;
	}

	:global(.dark) .card-description {
		color: #a1a1aa;
	}

	:global(.dark) .card-cta {
		color: #d4d4d8;
	}
</style>
