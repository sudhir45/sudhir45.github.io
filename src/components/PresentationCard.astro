---
interface Props {
	slug: string;
	title: string;
	description: string;
	thumbnail: string;
	slideCount: number;
	category: string;
}

const { slug, title, description, thumbnail, slideCount, category } = Astro.props;
---

<a 
	href={`/presentations/${slug}`} 
	class="presentation-card group"
	aria-label={`View presentation: ${title}`}
>
	<div class="card-inner">
		<!-- Thumbnail with overlay -->
		<div class="card-thumbnail">
			<img 
				src={thumbnail} 
				alt={`Thumbnail for ${title}`}
				loading="lazy"
			/>
			<!-- Gradient overlay -->
			<div class="thumbnail-overlay"></div>
			
			<!-- Slide count badge -->
			<div class="slide-badge">
				<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
				</svg>
				<span>{slideCount} slides</span>
			</div>

			<!-- Play button overlay -->
			<div class="play-overlay">
				<div class="play-button">
					<svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
						<path d="M8 5v14l11-7z" />
					</svg>
				</div>
			</div>
		</div>
		
		<!-- Content -->
		<div class="card-content">
			<span class="category-badge">{category}</span>

			<h3 class="card-title">{title}</h3>

			<p class="card-description">{description}</p>
		
			<div class="card-cta">
				<span>View presentation</span>
				<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
				</svg>
			</div>
		</div>
	</div>
</a>

<style>
	.presentation-card {
		display: block;
		height: 100%;
		outline: none;
		text-decoration: none;
	}

	.presentation-card:focus-visible {
		outline: 2px solid rgb(234, 88, 12);
		outline-offset: 2px;
		border-radius: 1rem;
	}

	.card-inner {
		display: flex;
		height: 100%;
		flex-direction: column;
		overflow: hidden;
		border-radius: 1rem;
		border: 1px solid rgba(120, 113, 108, 0.2);
		background: linear-gradient(180deg, rgba(41, 37, 36, 0.5) 0%, rgba(28, 25, 23, 0.8) 100%);
		box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.presentation-card:hover .card-inner {
		border-color: rgba(234, 88, 12, 0.4);
		box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 8px 10px -6px rgba(0, 0, 0, 0.1), 0 0 30px rgba(234, 88, 12, 0.15);
		transform: translateY(-4px);
	}

	/* Thumbnail */
	.card-thumbnail {
		position: relative;
		aspect-ratio: 16 / 9;
		overflow: hidden;
		background: #1c1917;
	}

	.card-thumbnail img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.presentation-card:hover .card-thumbnail img {
		transform: scale(1.08);
	}

	.thumbnail-overlay {
		position: absolute;
		inset: 0;
		background: linear-gradient(180deg, transparent 40%, rgba(0, 0, 0, 0.7) 100%);
		opacity: 0.6;
		transition: opacity 0.3s ease;
	}

	.presentation-card:hover .thumbnail-overlay {
		opacity: 0.3;
	}

	/* Slide badge */
	.slide-badge {
		position: absolute;
		bottom: 0.75rem;
		right: 0.75rem;
		display: flex;
		align-items: center;
		gap: 0.375rem;
		padding: 0.375rem 0.625rem;
		background: rgba(0, 0, 0, 0.7);
		backdrop-filter: blur(8px);
		-webkit-backdrop-filter: blur(8px);
		border-radius: 0.5rem;
		font-size: 0.75rem;
		font-weight: 500;
		color: #fafaf9;
	}

	/* Play overlay */
	.play-overlay {
		position: absolute;
		inset: 0;
		display: flex;
		align-items: center;
		justify-content: center;
		opacity: 0;
		transition: opacity 0.3s ease;
	}

	.presentation-card:hover .play-overlay {
		opacity: 1;
	}

	.play-button {
		display: flex;
		align-items: center;
		justify-content: center;
		width: 4rem;
		height: 4rem;
		background: rgba(234, 88, 12, 0.9);
		border-radius: 50%;
		color: #fafaf9;
		box-shadow: 0 0 30px rgba(234, 88, 12, 0.5);
		transform: scale(0.8);
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.presentation-card:hover .play-button {
		transform: scale(1);
	}

	.play-button svg {
		margin-left: 0.25rem;
	}

	/* Content */
	.card-content {
		display: flex;
		flex: 1;
		flex-direction: column;
		padding: 1.25rem;
	}

	.category-badge {
		display: inline-flex;
		align-self: flex-start;
		padding: 0.25rem 0.625rem;
		margin-bottom: 0.75rem;
		background: rgba(234, 88, 12, 0.15);
		border: 1px solid rgba(234, 88, 12, 0.3);
		border-radius: 9999px;
		font-size: 0.6875rem;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		color: rgb(251, 146, 60);
	}

	.card-title {
		margin: 0 0 0.5rem;
		font-size: 1.125rem;
		font-weight: 600;
		line-height: 1.4;
		color: #fafaf9;
		transition: color 0.2s ease;
	}

	.presentation-card:hover .card-title {
		color: rgb(251, 146, 60);
	}

	.card-description {
		margin: 0 0 1rem;
		flex: 1;
		font-size: 0.875rem;
		line-height: 1.6;
		color: #a8a29e;
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	.card-cta {
		display: flex;
		align-items: center;
		gap: 0.375rem;
		margin-top: auto;
		font-size: 0.875rem;
		font-weight: 500;
		color: rgb(234, 88, 12);
		transition: gap 0.2s ease;
	}

	.presentation-card:hover .card-cta {
		gap: 0.625rem;
	}

	.card-cta svg {
		transition: transform 0.2s ease;
	}

	.presentation-card:hover .card-cta svg {
		transform: translateX(2px);
	}

	/* Light mode adjustments */
	:global(.light) .card-inner,
	:root:not(.dark) .card-inner {
		background: linear-gradient(180deg, #ffffff 0%, #fafaf9 100%);
		border-color: rgba(120, 113, 108, 0.15);
	}

	:global(.light) .card-title,
	:root:not(.dark) .card-title {
		color: #1c1917;
	}

	:global(.light) .card-description,
	:root:not(.dark) .card-description {
		color: #57534e;
	}
</style>
